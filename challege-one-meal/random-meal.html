<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main">
        <div>
            <h1>Get a recipe!</h1>
            <h5>Click the button below to get a recipe.</h5>
            <button class="btn" id="get_meal">Get meal</button>
        </div>
        <div>
            <div class="meal" id="meal_container">
            </div>
        </div>
    </div>

    <script>
        const get_meal_btn = document.getElementById('get_meal');
        const meal_container = document.getElementById('meal_container');

        get_meal_btn.addEventListener('click', (event) => {
            event.preventDefault(); // Previene la recarga de la pÃ¡gina
            fetch('https://www.themealdb.com/api/json/v1/1/random.php') // Llama a la API
                .then(res => res.json()) // Obtiene el JSON
                .then(res => {
                    createMeal(res.meals[0]);
                });
        });

        const createMeal = (meal) => {
            const ingredients = [];
            for (let i = 1; i <= 20; i++) {
                if (meal[`strIngredient${i}`]) {
                    ingredients.push(`${meal[`strIngredient${i}`]} - ${meal[`strMeasure${i}`]}`);
                } else {
                    break;
                }
            }

            const newInnerHTML = `
                <div><h2>${meal.strMeal}</h2></div>
                <table>
                    <tr>
                        <td><img src="${meal.strMealThumb}" alt="Meal Image"></td>
                        <td>
                            <h3>Ingredients:</h3>
                            <ul>
                                ${ingredients.map(ingredient => `<li>${ingredient}</li>`).join('')}
                            </ul>
                        </td>
                    </tr>
                </table>
                <h3>Instructions</h3>
                <p>${meal.strInstructions}</p>
            `;

            meal_container.innerHTML = newInnerHTML;
        }
    </script>
</body>
</html>

